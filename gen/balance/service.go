// Code generated by goa v3.23.1, DO NOT EDIT.
//
// balance service
//
// Command:
// $ goa gen stock-bot/design

package balance

import (
	"context"
	balanceviews "stock-bot/gen/balance/views"
)

// The balance service provides account balance information.
type Service interface {
	// Get the account balance summary.
	Get(context.Context) (res *StockbotBalance, err error)
}

// APIName is the name of the API as defined in the design.
const APIName = "stockbot"

// APIVersion is the version of the API as defined in the design.
const APIVersion = "0.0.1"

// ServiceName is the name of the service as defined in the design. This is the
// same value that is set in the endpoint request contexts under the ServiceKey
// key.
const ServiceName = "balance"

// MethodNames lists the service method names as defined in the design. These
// are the same values that are set in the endpoint request contexts under the
// MethodKey key.
var MethodNames = [1]string{"get"}

// StockbotBalance is the result type of the balance service get method.
type StockbotBalance struct {
	// 現物株式買付可能額
	AvailableCashForStock float64
	// 信用新規建可能額
	AvailableMarginForNewPosition float64
	// 委託保証金率(%)
	MarginMaintenanceRate float64
	// 出金可能額
	WithdrawableCash float64
	// 追証発生フラグ (1:発生, 0:未発生)
	HasMarginCall bool
}

// NewStockbotBalance initializes result type StockbotBalance from viewed
// result type StockbotBalance.
func NewStockbotBalance(vres *balanceviews.StockbotBalance) *StockbotBalance {
	return newStockbotBalance(vres.Projected)
}

// NewViewedStockbotBalance initializes viewed result type StockbotBalance from
// result type StockbotBalance using the given view.
func NewViewedStockbotBalance(res *StockbotBalance, view string) *balanceviews.StockbotBalance {
	p := newStockbotBalanceView(res)
	return &balanceviews.StockbotBalance{Projected: p, View: "default"}
}

// newStockbotBalance converts projected type StockbotBalance to service type
// StockbotBalance.
func newStockbotBalance(vres *balanceviews.StockbotBalanceView) *StockbotBalance {
	res := &StockbotBalance{}
	if vres.AvailableCashForStock != nil {
		res.AvailableCashForStock = *vres.AvailableCashForStock
	}
	if vres.AvailableMarginForNewPosition != nil {
		res.AvailableMarginForNewPosition = *vres.AvailableMarginForNewPosition
	}
	if vres.MarginMaintenanceRate != nil {
		res.MarginMaintenanceRate = *vres.MarginMaintenanceRate
	}
	if vres.WithdrawableCash != nil {
		res.WithdrawableCash = *vres.WithdrawableCash
	}
	if vres.HasMarginCall != nil {
		res.HasMarginCall = *vres.HasMarginCall
	}
	return res
}

// newStockbotBalanceView projects result type StockbotBalance to projected
// type StockbotBalanceView using the "default" view.
func newStockbotBalanceView(res *StockbotBalance) *balanceviews.StockbotBalanceView {
	vres := &balanceviews.StockbotBalanceView{
		AvailableCashForStock:         &res.AvailableCashForStock,
		AvailableMarginForNewPosition: &res.AvailableMarginForNewPosition,
		MarginMaintenanceRate:         &res.MarginMaintenanceRate,
		WithdrawableCash:              &res.WithdrawableCash,
		HasMarginCall:                 &res.HasMarginCall,
	}
	return vres
}
