// Code generated by goa v3.22.1, DO NOT EDIT.
//
// position service
//
// Command:
// $ goa gen stock-bot/design

package position

import (
	"context"
	positionviews "stock-bot/gen/position/views"
)

// 建玉サービスは現在保有している建玉の情報を提供します。
type Service interface {
	// 建玉の一覧を取得します。
	List(context.Context) (res []*StockPosition, err error)
}

// APIName is the name of the API as defined in the design.
const APIName = "stock"

// APIVersion is the version of the API as defined in the design.
const APIVersion = "0.0.1"

// ServiceName is the name of the service as defined in the design. This is the
// same value that is set in the endpoint request contexts under the ServiceKey
// key.
const ServiceName = "position"

// MethodNames lists the service method names as defined in the design. These
// are the same values that are set in the endpoint request contexts under the
// MethodKey key.
var MethodNames = [1]string{"list"}

// 建玉情報
type StockPosition struct {
	// ID
	ID uint
	// 銘柄コード
	Symbol string
	// ポジション種別 (LONG or SHORT)
	PositionType string
	// 平均取得単価
	AveragePrice float64
	// 保有数量
	Quantity int
	// 作成日時
	CreatedAt string
	// 更新日時
	UpdatedAt string
}

// newStockPosition converts projected type StockPosition to service type
// StockPosition.
func newStockPosition(vres *positionviews.StockPositionView) *StockPosition {
	res := &StockPosition{}
	if vres.ID != nil {
		res.ID = *vres.ID
	}
	if vres.Symbol != nil {
		res.Symbol = *vres.Symbol
	}
	if vres.PositionType != nil {
		res.PositionType = *vres.PositionType
	}
	if vres.AveragePrice != nil {
		res.AveragePrice = *vres.AveragePrice
	}
	if vres.Quantity != nil {
		res.Quantity = *vres.Quantity
	}
	if vres.CreatedAt != nil {
		res.CreatedAt = *vres.CreatedAt
	}
	if vres.UpdatedAt != nil {
		res.UpdatedAt = *vres.UpdatedAt
	}
	return res
}

// newStockPositionView projects result type StockPosition to projected type
// StockPositionView using the "default" view.
func newStockPositionView(res *StockPosition) *positionviews.StockPositionView {
	vres := &positionviews.StockPositionView{
		ID:           &res.ID,
		Symbol:       &res.Symbol,
		PositionType: &res.PositionType,
		AveragePrice: &res.AveragePrice,
		Quantity:     &res.Quantity,
		CreatedAt:    &res.CreatedAt,
		UpdatedAt:    &res.UpdatedAt,
	}
	return vres
}
