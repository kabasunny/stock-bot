// Code generated by goa v3.23.1, DO NOT EDIT.
//
// position views
//
// Command:
// $ goa gen stock-bot/design

package views

import (
	goa "goa.design/goa/v3/pkg"
)

// StockbotPositionCollection is the viewed result type that is projected based
// on a view.
type StockbotPositionCollection struct {
	// Type to project
	Projected *StockbotPositionCollectionView
	// View to render
	View string
}

// StockbotPositionCollectionView is a type that runs validations on a
// projected type.
type StockbotPositionCollectionView struct {
	// 保有ポジションのリスト
	Positions []*PositionResultView
}

// PositionResultView is a type that runs validations on a projected type.
type PositionResultView struct {
	// 銘柄コード
	Symbol *string
	// ポジション種別 (CASH, MARGIN_LONG, MARGIN_SHORT)
	PositionType *string
	// 保有数量
	Quantity *float64
	// 平均取得単価
	AverageCost *float64
	// 現在値
	CurrentPrice *float64
	// 評価損益
	UnrealizedPl *float64
	// 評価損益率(%)
	UnrealizedPlRate *float64
	// 建日 (信用取引の場合 YYYYMMDD)
	OpenedDate *string
}

var (
	// StockbotPositionCollectionMap is a map indexing the attribute names of
	// StockbotPositionCollection by view name.
	StockbotPositionCollectionMap = map[string][]string{
		"default": {
			"positions",
		},
	}
)

// ValidateStockbotPositionCollection runs the validations defined on the
// viewed result type StockbotPositionCollection.
func ValidateStockbotPositionCollection(result *StockbotPositionCollection) (err error) {
	switch result.View {
	case "default", "":
		err = ValidateStockbotPositionCollectionView(result.Projected)
	default:
		err = goa.InvalidEnumValueError("view", result.View, []any{"default"})
	}
	return
}

// ValidateStockbotPositionCollectionView runs the validations defined on
// StockbotPositionCollectionView using the "default" view.
func ValidateStockbotPositionCollectionView(result *StockbotPositionCollectionView) (err error) {
	if result.Positions == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("positions", "result"))
	}
	for _, e := range result.Positions {
		if e != nil {
			if err2 := ValidatePositionResultView(e); err2 != nil {
				err = goa.MergeErrors(err, err2)
			}
		}
	}
	return
}

// ValidatePositionResultView runs the validations defined on
// PositionResultView.
func ValidatePositionResultView(result *PositionResultView) (err error) {
	if result.Symbol == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("symbol", "result"))
	}
	if result.PositionType == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("position_type", "result"))
	}
	if result.Quantity == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("quantity", "result"))
	}
	if result.AverageCost == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("average_cost", "result"))
	}
	if result.PositionType != nil {
		if !(*result.PositionType == "CASH" || *result.PositionType == "MARGIN_LONG" || *result.PositionType == "MARGIN_SHORT") {
			err = goa.MergeErrors(err, goa.InvalidEnumValueError("result.position_type", *result.PositionType, []any{"CASH", "MARGIN_LONG", "MARGIN_SHORT"}))
		}
	}
	return
}
