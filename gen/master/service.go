// Code generated by goa v3.23.1, DO NOT EDIT.
//
// master service
//
// Command:
// $ goa gen stock-bot/design

package master

import (
	"context"
	masterviews "stock-bot/gen/master/views"
)

// The master service provides master data.
type Service interface {
	// Get basic master data for a single stock.
	GetStock(context.Context, *GetStockPayload) (res *StockbotStockMaster, err error)
}

// APIName is the name of the API as defined in the design.
const APIName = "stockbot"

// APIVersion is the version of the API as defined in the design.
const APIVersion = "0.0.1"

// ServiceName is the name of the service as defined in the design. This is the
// same value that is set in the endpoint request contexts under the ServiceKey
// key.
const ServiceName = "master"

// MethodNames lists the service method names as defined in the design. These
// are the same values that are set in the endpoint request contexts under the
// MethodKey key.
var MethodNames = [1]string{"get_stock"}

// GetStockPayload is the payload type of the master service get_stock method.
type GetStockPayload struct {
	// Stock symbol to look up
	Symbol string
}

// StockbotStockMaster is the result type of the master service get_stock
// method.
type StockbotStockMaster struct {
	// 銘柄コード
	Symbol string
	// 銘柄名
	Name string
	// 銘柄名（カナ）
	NameKana *string
	// 優先市場
	Market string
	// 業種コード
	IndustryCode *string
	// 業種コード名
	IndustryName *string
}

// NewStockbotStockMaster initializes result type StockbotStockMaster from
// viewed result type StockbotStockMaster.
func NewStockbotStockMaster(vres *masterviews.StockbotStockMaster) *StockbotStockMaster {
	return newStockbotStockMaster(vres.Projected)
}

// NewViewedStockbotStockMaster initializes viewed result type
// StockbotStockMaster from result type StockbotStockMaster using the given
// view.
func NewViewedStockbotStockMaster(res *StockbotStockMaster, view string) *masterviews.StockbotStockMaster {
	p := newStockbotStockMasterView(res)
	return &masterviews.StockbotStockMaster{Projected: p, View: "default"}
}

// newStockbotStockMaster converts projected type StockbotStockMaster to
// service type StockbotStockMaster.
func newStockbotStockMaster(vres *masterviews.StockbotStockMasterView) *StockbotStockMaster {
	res := &StockbotStockMaster{
		NameKana:     vres.NameKana,
		IndustryCode: vres.IndustryCode,
		IndustryName: vres.IndustryName,
	}
	if vres.Symbol != nil {
		res.Symbol = *vres.Symbol
	}
	if vres.Name != nil {
		res.Name = *vres.Name
	}
	if vres.Market != nil {
		res.Market = *vres.Market
	}
	return res
}

// newStockbotStockMasterView projects result type StockbotStockMaster to
// projected type StockbotStockMasterView using the "default" view.
func newStockbotStockMasterView(res *StockbotStockMaster) *masterviews.StockbotStockMasterView {
	vres := &masterviews.StockbotStockMasterView{
		Symbol:       &res.Symbol,
		Name:         &res.Name,
		NameKana:     res.NameKana,
		Market:       &res.Market,
		IndustryCode: res.IndustryCode,
		IndustryName: res.IndustryName,
	}
	return vres
}
