// Code generated by goa v3.23.1, DO NOT EDIT.
//
// position HTTP server types
//
// Command:
// $ goa gen stock-bot/design

package server

import (
	position "stock-bot/gen/position"
	positionviews "stock-bot/gen/position/views"
)

// ListResponseBody is the type of the "position" service "list" endpoint HTTP
// response body.
type ListResponseBody struct {
	// 保有ポジションのリスト
	Positions []*PositionResultResponseBody `form:"positions" json:"positions" xml:"positions"`
}

// PositionResultResponseBody is used to define fields on response body types.
type PositionResultResponseBody struct {
	// 銘柄コード
	Symbol string `form:"symbol" json:"symbol" xml:"symbol"`
	// ポジション種別 (CASH, MARGIN_LONG, MARGIN_SHORT)
	PositionType string `form:"position_type" json:"position_type" xml:"position_type"`
	// 保有数量
	Quantity float64 `form:"quantity" json:"quantity" xml:"quantity"`
	// 平均取得単価
	AverageCost float64 `form:"average_cost" json:"average_cost" xml:"average_cost"`
	// 現在値
	CurrentPrice *float64 `form:"current_price,omitempty" json:"current_price,omitempty" xml:"current_price,omitempty"`
	// 評価損益
	UnrealizedPl *float64 `form:"unrealized_pl,omitempty" json:"unrealized_pl,omitempty" xml:"unrealized_pl,omitempty"`
	// 評価損益率(%)
	UnrealizedPlRate *float64 `form:"unrealized_pl_rate,omitempty" json:"unrealized_pl_rate,omitempty" xml:"unrealized_pl_rate,omitempty"`
	// 建日 (信用取引の場合 YYYYMMDD)
	OpenedDate *string `form:"opened_date,omitempty" json:"opened_date,omitempty" xml:"opened_date,omitempty"`
}

// NewListResponseBody builds the HTTP response body from the result of the
// "list" endpoint of the "position" service.
func NewListResponseBody(res *positionviews.StockbotPositionCollectionView) *ListResponseBody {
	body := &ListResponseBody{}
	if res.Positions != nil {
		body.Positions = make([]*PositionResultResponseBody, len(res.Positions))
		for i, val := range res.Positions {
			if val == nil {
				body.Positions[i] = nil
				continue
			}
			body.Positions[i] = marshalPositionviewsPositionResultViewToPositionResultResponseBody(val)
		}
	} else {
		body.Positions = []*PositionResultResponseBody{}
	}
	return body
}

// NewListPayload builds a position service list endpoint payload.
func NewListPayload(type_ string) *position.ListPayload {
	v := &position.ListPayload{}
	v.Type = type_

	return v
}
