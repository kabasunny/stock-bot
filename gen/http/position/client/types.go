// Code generated by goa v3.23.1, DO NOT EDIT.
//
// position HTTP client types
//
// Command:
// $ goa gen stock-bot/design

package client

import (
	positionviews "stock-bot/gen/position/views"

	goa "goa.design/goa/v3/pkg"
)

// ListResponseBody is the type of the "position" service "list" endpoint HTTP
// response body.
type ListResponseBody struct {
	// 保有ポジションのリスト
	Positions []*PositionResultResponseBody `form:"positions,omitempty" json:"positions,omitempty" xml:"positions,omitempty"`
}

// PositionResultResponseBody is used to define fields on response body types.
type PositionResultResponseBody struct {
	// 銘柄コード
	Symbol *string `form:"symbol,omitempty" json:"symbol,omitempty" xml:"symbol,omitempty"`
	// ポジション種別 (CASH, MARGIN_LONG, MARGIN_SHORT)
	PositionType *string `form:"position_type,omitempty" json:"position_type,omitempty" xml:"position_type,omitempty"`
	// 保有数量
	Quantity *float64 `form:"quantity,omitempty" json:"quantity,omitempty" xml:"quantity,omitempty"`
	// 平均取得単価
	AverageCost *float64 `form:"average_cost,omitempty" json:"average_cost,omitempty" xml:"average_cost,omitempty"`
	// 現在値
	CurrentPrice *float64 `form:"current_price,omitempty" json:"current_price,omitempty" xml:"current_price,omitempty"`
	// 評価損益
	UnrealizedPl *float64 `form:"unrealized_pl,omitempty" json:"unrealized_pl,omitempty" xml:"unrealized_pl,omitempty"`
	// 評価損益率(%)
	UnrealizedPlRate *float64 `form:"unrealized_pl_rate,omitempty" json:"unrealized_pl_rate,omitempty" xml:"unrealized_pl_rate,omitempty"`
	// 建日 (信用取引の場合 YYYYMMDD)
	OpenedDate *string `form:"opened_date,omitempty" json:"opened_date,omitempty" xml:"opened_date,omitempty"`
}

// NewListStockbotPositionCollectionOK builds a "position" service "list"
// endpoint result from a HTTP "OK" response.
func NewListStockbotPositionCollectionOK(body *ListResponseBody) *positionviews.StockbotPositionCollectionView {
	v := &positionviews.StockbotPositionCollectionView{}
	v.Positions = make([]*positionviews.PositionResultView, len(body.Positions))
	for i, val := range body.Positions {
		if val == nil {
			v.Positions[i] = nil
			continue
		}
		v.Positions[i] = unmarshalPositionResultResponseBodyToPositionviewsPositionResultView(val)
	}

	return v
}

// ValidatePositionResultResponseBody runs the validations defined on
// PositionResultResponseBody
func ValidatePositionResultResponseBody(body *PositionResultResponseBody) (err error) {
	if body.Symbol == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("symbol", "body"))
	}
	if body.PositionType == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("position_type", "body"))
	}
	if body.Quantity == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("quantity", "body"))
	}
	if body.AverageCost == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("average_cost", "body"))
	}
	if body.PositionType != nil {
		if !(*body.PositionType == "CASH" || *body.PositionType == "MARGIN_LONG" || *body.PositionType == "MARGIN_SHORT") {
			err = goa.MergeErrors(err, goa.InvalidEnumValueError("body.position_type", *body.PositionType, []any{"CASH", "MARGIN_LONG", "MARGIN_SHORT"}))
		}
	}
	return
}
