// Code generated by goa v3.23.1, DO NOT EDIT.
//
// trade HTTP client types
//
// Command:
// $ goa gen stock-bot/design

package client

import (
	trade "stock-bot/gen/trade"

	goa "goa.design/goa/v3/pkg"
)

// PlaceOrderRequestBody is the type of the "trade" service "place_order"
// endpoint HTTP request body.
type PlaceOrderRequestBody struct {
	// 銘柄コード
	Symbol string `form:"symbol" json:"symbol" xml:"symbol"`
	// 売買区分
	TradeType string `form:"trade_type" json:"trade_type" xml:"trade_type"`
	// 注文種別
	OrderType string `form:"order_type" json:"order_type" xml:"order_type"`
	// 数量
	Quantity uint `form:"quantity" json:"quantity" xml:"quantity"`
	// 価格 (指値の場合)
	Price float64 `form:"price" json:"price" xml:"price"`
	// トリガー価格 (逆指値の場合)
	TriggerPrice float64 `form:"trigger_price" json:"trigger_price" xml:"trigger_price"`
	// 口座区分
	PositionAccountType string `form:"position_account_type" json:"position_account_type" xml:"position_account_type"`
}

// GetSessionResponseBody is the type of the "trade" service "get_session"
// endpoint HTTP response body.
type GetSessionResponseBody struct {
	// セッションID
	SessionID *string `form:"session_id,omitempty" json:"session_id,omitempty" xml:"session_id,omitempty"`
	// ユーザーID
	UserID *string `form:"user_id,omitempty" json:"user_id,omitempty" xml:"user_id,omitempty"`
	// ログイン時刻 (RFC3339)
	LoginTime *string `form:"login_time,omitempty" json:"login_time,omitempty" xml:"login_time,omitempty"`
}

// GetPositionsResponseBody is the type of the "trade" service "get_positions"
// endpoint HTTP response body.
type GetPositionsResponseBody struct {
	// 保有ポジションのリスト
	Positions []*TradePositionResultResponseBody `form:"positions,omitempty" json:"positions,omitempty" xml:"positions,omitempty"`
}

// GetOrdersResponseBody is the type of the "trade" service "get_orders"
// endpoint HTTP response body.
type GetOrdersResponseBody struct {
	// 注文のリスト
	Orders []*TradeOrderResultResponseBody `form:"orders,omitempty" json:"orders,omitempty" xml:"orders,omitempty"`
}

// GetBalanceResponseBody is the type of the "trade" service "get_balance"
// endpoint HTTP response body.
type GetBalanceResponseBody struct {
	// 現金残高
	Cash *float64 `form:"cash,omitempty" json:"cash,omitempty" xml:"cash,omitempty"`
	// 買付余力
	BuyingPower *float64 `form:"buying_power,omitempty" json:"buying_power,omitempty" xml:"buying_power,omitempty"`
}

// GetPriceHistoryResponseBody is the type of the "trade" service
// "get_price_history" endpoint HTTP response body.
type GetPriceHistoryResponseBody struct {
	// 銘柄コード
	Symbol *string `form:"symbol,omitempty" json:"symbol,omitempty" xml:"symbol,omitempty"`
	// 価格履歴
	History []*TradePriceHistoryItemResponseBody `form:"history,omitempty" json:"history,omitempty" xml:"history,omitempty"`
}

// PlaceOrderResponseBody is the type of the "trade" service "place_order"
// endpoint HTTP response body.
type PlaceOrderResponseBody struct {
	// 注文ID
	OrderID *string `form:"order_id,omitempty" json:"order_id,omitempty" xml:"order_id,omitempty"`
	// 銘柄コード
	Symbol *string `form:"symbol,omitempty" json:"symbol,omitempty" xml:"symbol,omitempty"`
	// 売買区分
	TradeType *string `form:"trade_type,omitempty" json:"trade_type,omitempty" xml:"trade_type,omitempty"`
	// 注文種別
	OrderType *string `form:"order_type,omitempty" json:"order_type,omitempty" xml:"order_type,omitempty"`
	// 数量
	Quantity *uint `form:"quantity,omitempty" json:"quantity,omitempty" xml:"quantity,omitempty"`
	// 価格
	Price *float64 `form:"price,omitempty" json:"price,omitempty" xml:"price,omitempty"`
	// 注文状態
	OrderStatus *string `form:"order_status,omitempty" json:"order_status,omitempty" xml:"order_status,omitempty"`
	// 口座区分
	PositionAccountType *string `form:"position_account_type,omitempty" json:"position_account_type,omitempty" xml:"position_account_type,omitempty"`
}

// TradePositionResultResponseBody is used to define fields on response body
// types.
type TradePositionResultResponseBody struct {
	// 銘柄コード
	Symbol *string `form:"symbol,omitempty" json:"symbol,omitempty" xml:"symbol,omitempty"`
	// ポジション種別
	PositionType *string `form:"position_type,omitempty" json:"position_type,omitempty" xml:"position_type,omitempty"`
	// 口座区分
	PositionAccountType *string `form:"position_account_type,omitempty" json:"position_account_type,omitempty" xml:"position_account_type,omitempty"`
	// 平均取得価格
	AveragePrice *float64 `form:"average_price,omitempty" json:"average_price,omitempty" xml:"average_price,omitempty"`
	// 数量
	Quantity *uint `form:"quantity,omitempty" json:"quantity,omitempty" xml:"quantity,omitempty"`
}

// TradeOrderResultResponseBody is used to define fields on response body types.
type TradeOrderResultResponseBody struct {
	// 注文ID
	OrderID *string `form:"order_id,omitempty" json:"order_id,omitempty" xml:"order_id,omitempty"`
	// 銘柄コード
	Symbol *string `form:"symbol,omitempty" json:"symbol,omitempty" xml:"symbol,omitempty"`
	// 売買区分
	TradeType *string `form:"trade_type,omitempty" json:"trade_type,omitempty" xml:"trade_type,omitempty"`
	// 注文種別
	OrderType *string `form:"order_type,omitempty" json:"order_type,omitempty" xml:"order_type,omitempty"`
	// 数量
	Quantity *uint `form:"quantity,omitempty" json:"quantity,omitempty" xml:"quantity,omitempty"`
	// 価格
	Price *float64 `form:"price,omitempty" json:"price,omitempty" xml:"price,omitempty"`
	// 注文状態
	OrderStatus *string `form:"order_status,omitempty" json:"order_status,omitempty" xml:"order_status,omitempty"`
	// 口座区分
	PositionAccountType *string `form:"position_account_type,omitempty" json:"position_account_type,omitempty" xml:"position_account_type,omitempty"`
}

// TradePriceHistoryItemResponseBody is used to define fields on response body
// types.
type TradePriceHistoryItemResponseBody struct {
	// 日付 (RFC3339)
	Date *string `form:"date,omitempty" json:"date,omitempty" xml:"date,omitempty"`
	// 始値
	Open *float64 `form:"open,omitempty" json:"open,omitempty" xml:"open,omitempty"`
	// 高値
	High *float64 `form:"high,omitempty" json:"high,omitempty" xml:"high,omitempty"`
	// 安値
	Low *float64 `form:"low,omitempty" json:"low,omitempty" xml:"low,omitempty"`
	// 終値
	Close *float64 `form:"close,omitempty" json:"close,omitempty" xml:"close,omitempty"`
	// 出来高
	Volume *uint64 `form:"volume,omitempty" json:"volume,omitempty" xml:"volume,omitempty"`
}

// NewPlaceOrderRequestBody builds the HTTP request body from the payload of
// the "place_order" endpoint of the "trade" service.
func NewPlaceOrderRequestBody(p *trade.PlaceOrderPayload) *PlaceOrderRequestBody {
	body := &PlaceOrderRequestBody{
		Symbol:              p.Symbol,
		TradeType:           p.TradeType,
		OrderType:           p.OrderType,
		Quantity:            p.Quantity,
		Price:               p.Price,
		TriggerPrice:        p.TriggerPrice,
		PositionAccountType: p.PositionAccountType,
	}
	{
		var zero float64
		if body.Price == zero {
			body.Price = 0
		}
	}
	{
		var zero float64
		if body.TriggerPrice == zero {
			body.TriggerPrice = 0
		}
	}
	{
		var zero string
		if body.PositionAccountType == zero {
			body.PositionAccountType = "CASH"
		}
	}
	return body
}

// NewGetSessionResultOK builds a "trade" service "get_session" endpoint result
// from a HTTP "OK" response.
func NewGetSessionResultOK(body *GetSessionResponseBody) *trade.GetSessionResult {
	v := &trade.GetSessionResult{
		SessionID: *body.SessionID,
		UserID:    *body.UserID,
		LoginTime: *body.LoginTime,
	}

	return v
}

// NewGetPositionsResultOK builds a "trade" service "get_positions" endpoint
// result from a HTTP "OK" response.
func NewGetPositionsResultOK(body *GetPositionsResponseBody) *trade.GetPositionsResult {
	v := &trade.GetPositionsResult{}
	v.Positions = make([]*trade.TradePositionResult, len(body.Positions))
	for i, val := range body.Positions {
		if val == nil {
			v.Positions[i] = nil
			continue
		}
		v.Positions[i] = unmarshalTradePositionResultResponseBodyToTradeTradePositionResult(val)
	}

	return v
}

// NewGetOrdersResultOK builds a "trade" service "get_orders" endpoint result
// from a HTTP "OK" response.
func NewGetOrdersResultOK(body *GetOrdersResponseBody) *trade.GetOrdersResult {
	v := &trade.GetOrdersResult{}
	v.Orders = make([]*trade.TradeOrderResult, len(body.Orders))
	for i, val := range body.Orders {
		if val == nil {
			v.Orders[i] = nil
			continue
		}
		v.Orders[i] = unmarshalTradeOrderResultResponseBodyToTradeTradeOrderResult(val)
	}

	return v
}

// NewGetBalanceTradeBalanceResultOK builds a "trade" service "get_balance"
// endpoint result from a HTTP "OK" response.
func NewGetBalanceTradeBalanceResultOK(body *GetBalanceResponseBody) *trade.TradeBalanceResult {
	v := &trade.TradeBalanceResult{
		Cash:        *body.Cash,
		BuyingPower: *body.BuyingPower,
	}

	return v
}

// NewGetPriceHistoryResultOK builds a "trade" service "get_price_history"
// endpoint result from a HTTP "OK" response.
func NewGetPriceHistoryResultOK(body *GetPriceHistoryResponseBody) *trade.GetPriceHistoryResult {
	v := &trade.GetPriceHistoryResult{
		Symbol: *body.Symbol,
	}
	v.History = make([]*trade.TradePriceHistoryItem, len(body.History))
	for i, val := range body.History {
		if val == nil {
			v.History[i] = nil
			continue
		}
		v.History[i] = unmarshalTradePriceHistoryItemResponseBodyToTradeTradePriceHistoryItem(val)
	}

	return v
}

// NewPlaceOrderTradeOrderResultCreated builds a "trade" service "place_order"
// endpoint result from a HTTP "Created" response.
func NewPlaceOrderTradeOrderResultCreated(body *PlaceOrderResponseBody) *trade.TradeOrderResult {
	v := &trade.TradeOrderResult{
		OrderID:             *body.OrderID,
		Symbol:              *body.Symbol,
		TradeType:           *body.TradeType,
		OrderType:           *body.OrderType,
		Quantity:            *body.Quantity,
		Price:               *body.Price,
		OrderStatus:         *body.OrderStatus,
		PositionAccountType: body.PositionAccountType,
	}

	return v
}

// ValidateGetSessionResponseBody runs the validations defined on
// get_session_response_body
func ValidateGetSessionResponseBody(body *GetSessionResponseBody) (err error) {
	if body.SessionID == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("session_id", "body"))
	}
	if body.UserID == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("user_id", "body"))
	}
	if body.LoginTime == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("login_time", "body"))
	}
	return
}

// ValidateGetPositionsResponseBody runs the validations defined on
// get_positions_response_body
func ValidateGetPositionsResponseBody(body *GetPositionsResponseBody) (err error) {
	if body.Positions == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("positions", "body"))
	}
	for _, e := range body.Positions {
		if e != nil {
			if err2 := ValidateTradePositionResultResponseBody(e); err2 != nil {
				err = goa.MergeErrors(err, err2)
			}
		}
	}
	return
}

// ValidateGetOrdersResponseBody runs the validations defined on
// get_orders_response_body
func ValidateGetOrdersResponseBody(body *GetOrdersResponseBody) (err error) {
	if body.Orders == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("orders", "body"))
	}
	for _, e := range body.Orders {
		if e != nil {
			if err2 := ValidateTradeOrderResultResponseBody(e); err2 != nil {
				err = goa.MergeErrors(err, err2)
			}
		}
	}
	return
}

// ValidateGetBalanceResponseBody runs the validations defined on
// get_balance_response_body
func ValidateGetBalanceResponseBody(body *GetBalanceResponseBody) (err error) {
	if body.Cash == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("cash", "body"))
	}
	if body.BuyingPower == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("buying_power", "body"))
	}
	return
}

// ValidateGetPriceHistoryResponseBody runs the validations defined on
// get_price_history_response_body
func ValidateGetPriceHistoryResponseBody(body *GetPriceHistoryResponseBody) (err error) {
	if body.Symbol == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("symbol", "body"))
	}
	if body.History == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("history", "body"))
	}
	for _, e := range body.History {
		if e != nil {
			if err2 := ValidateTradePriceHistoryItemResponseBody(e); err2 != nil {
				err = goa.MergeErrors(err, err2)
			}
		}
	}
	return
}

// ValidatePlaceOrderResponseBody runs the validations defined on
// place_order_response_body
func ValidatePlaceOrderResponseBody(body *PlaceOrderResponseBody) (err error) {
	if body.OrderID == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("order_id", "body"))
	}
	if body.Symbol == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("symbol", "body"))
	}
	if body.TradeType == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("trade_type", "body"))
	}
	if body.OrderType == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("order_type", "body"))
	}
	if body.Quantity == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("quantity", "body"))
	}
	if body.Price == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("price", "body"))
	}
	if body.OrderStatus == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("order_status", "body"))
	}
	if body.TradeType != nil {
		if !(*body.TradeType == "BUY" || *body.TradeType == "SELL") {
			err = goa.MergeErrors(err, goa.InvalidEnumValueError("body.trade_type", *body.TradeType, []any{"BUY", "SELL"}))
		}
	}
	if body.OrderType != nil {
		if !(*body.OrderType == "MARKET" || *body.OrderType == "LIMIT" || *body.OrderType == "STOP") {
			err = goa.MergeErrors(err, goa.InvalidEnumValueError("body.order_type", *body.OrderType, []any{"MARKET", "LIMIT", "STOP"}))
		}
	}
	if body.OrderStatus != nil {
		if !(*body.OrderStatus == "NEW" || *body.OrderStatus == "PARTIALLY_FILLED" || *body.OrderStatus == "FILLED" || *body.OrderStatus == "CANCELLED" || *body.OrderStatus == "REJECTED") {
			err = goa.MergeErrors(err, goa.InvalidEnumValueError("body.order_status", *body.OrderStatus, []any{"NEW", "PARTIALLY_FILLED", "FILLED", "CANCELLED", "REJECTED"}))
		}
	}
	if body.PositionAccountType != nil {
		if !(*body.PositionAccountType == "CASH" || *body.PositionAccountType == "MARGIN_NEW" || *body.PositionAccountType == "MARGIN_REPAY") {
			err = goa.MergeErrors(err, goa.InvalidEnumValueError("body.position_account_type", *body.PositionAccountType, []any{"CASH", "MARGIN_NEW", "MARGIN_REPAY"}))
		}
	}
	return
}

// ValidateTradePositionResultResponseBody runs the validations defined on
// TradePositionResultResponseBody
func ValidateTradePositionResultResponseBody(body *TradePositionResultResponseBody) (err error) {
	if body.Symbol == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("symbol", "body"))
	}
	if body.PositionType == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("position_type", "body"))
	}
	if body.PositionAccountType == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("position_account_type", "body"))
	}
	if body.AveragePrice == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("average_price", "body"))
	}
	if body.Quantity == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("quantity", "body"))
	}
	if body.PositionType != nil {
		if !(*body.PositionType == "LONG" || *body.PositionType == "SHORT") {
			err = goa.MergeErrors(err, goa.InvalidEnumValueError("body.position_type", *body.PositionType, []any{"LONG", "SHORT"}))
		}
	}
	if body.PositionAccountType != nil {
		if !(*body.PositionAccountType == "CASH" || *body.PositionAccountType == "MARGIN_NEW" || *body.PositionAccountType == "MARGIN_REPAY") {
			err = goa.MergeErrors(err, goa.InvalidEnumValueError("body.position_account_type", *body.PositionAccountType, []any{"CASH", "MARGIN_NEW", "MARGIN_REPAY"}))
		}
	}
	return
}

// ValidateTradeOrderResultResponseBody runs the validations defined on
// TradeOrderResultResponseBody
func ValidateTradeOrderResultResponseBody(body *TradeOrderResultResponseBody) (err error) {
	if body.OrderID == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("order_id", "body"))
	}
	if body.Symbol == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("symbol", "body"))
	}
	if body.TradeType == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("trade_type", "body"))
	}
	if body.OrderType == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("order_type", "body"))
	}
	if body.Quantity == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("quantity", "body"))
	}
	if body.Price == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("price", "body"))
	}
	if body.OrderStatus == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("order_status", "body"))
	}
	if body.TradeType != nil {
		if !(*body.TradeType == "BUY" || *body.TradeType == "SELL") {
			err = goa.MergeErrors(err, goa.InvalidEnumValueError("body.trade_type", *body.TradeType, []any{"BUY", "SELL"}))
		}
	}
	if body.OrderType != nil {
		if !(*body.OrderType == "MARKET" || *body.OrderType == "LIMIT" || *body.OrderType == "STOP") {
			err = goa.MergeErrors(err, goa.InvalidEnumValueError("body.order_type", *body.OrderType, []any{"MARKET", "LIMIT", "STOP"}))
		}
	}
	if body.OrderStatus != nil {
		if !(*body.OrderStatus == "NEW" || *body.OrderStatus == "PARTIALLY_FILLED" || *body.OrderStatus == "FILLED" || *body.OrderStatus == "CANCELLED" || *body.OrderStatus == "REJECTED") {
			err = goa.MergeErrors(err, goa.InvalidEnumValueError("body.order_status", *body.OrderStatus, []any{"NEW", "PARTIALLY_FILLED", "FILLED", "CANCELLED", "REJECTED"}))
		}
	}
	if body.PositionAccountType != nil {
		if !(*body.PositionAccountType == "CASH" || *body.PositionAccountType == "MARGIN_NEW" || *body.PositionAccountType == "MARGIN_REPAY") {
			err = goa.MergeErrors(err, goa.InvalidEnumValueError("body.position_account_type", *body.PositionAccountType, []any{"CASH", "MARGIN_NEW", "MARGIN_REPAY"}))
		}
	}
	return
}

// ValidateTradePriceHistoryItemResponseBody runs the validations defined on
// TradePriceHistoryItemResponseBody
func ValidateTradePriceHistoryItemResponseBody(body *TradePriceHistoryItemResponseBody) (err error) {
	if body.Date == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("date", "body"))
	}
	if body.Open == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("open", "body"))
	}
	if body.High == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("high", "body"))
	}
	if body.Low == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("low", "body"))
	}
	if body.Close == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("close", "body"))
	}
	if body.Volume == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("volume", "body"))
	}
	return
}
