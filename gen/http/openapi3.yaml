openapi: 3.0.3
info:
    title: 株式取引ボット API
    description: 株式取引ボットの機能を提供するAPI
    version: 0.0.1
servers:
    - url: http://localhost:8080
paths:
    /balance/can_entry/{issue_code}:
        get:
            tags:
                - balance
            summary: canEntry balance
            description: 指定した銘柄にエントリー可能か判断します。
            operationId: balance#canEntry
            parameters:
                - name: issue_code
                  in: path
                  description: 銘柄コード
                  required: true
                  schema:
                    type: string
                    description: 銘柄コード
                    example: Sunt fuga qui harum eos voluptatem.
                  example: Eum tenetur earum.
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/StockBalanceCanEntry'
                            example:
                                buying_power: 1.23456789e+06
                                can_entry: true
    /balance/summary:
        get:
            tags:
                - balance
            summary: summary balance
            description: 口座の残高サマリーを取得します。
            operationId: balance#summary
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/StockBalanceSummary'
                            example:
                                cash_buying_power: 1000000
                                margin_buying_power: 5000000
                                margin_rate: 60.5
                                total_assets: 3.0000005e+06
                                updated_at: "2023-08-23T10:00:00Z"
                                withdrawal_possible_amount: 500000
components:
    schemas:
        StockBalanceCanEntry:
            type: object
            properties:
                buying_power:
                    type: number
                    description: エントリー判断時点の買付余力
                    example: 1.23456789e+06
                    format: double
                can_entry:
                    type: boolean
                    description: エントリー可能かどうかのフラグ
                    example: true
            description: エントリー可否の判断結果
            example:
                buying_power: 1.23456789e+06
                can_entry: true
            required:
                - can_entry
                - buying_power
        StockBalanceSummary:
            type: object
            properties:
                cash_buying_power:
                    type: number
                    description: 現物買付可能額 (円)
                    example: 1000000
                    format: double
                margin_buying_power:
                    type: number
                    description: 信用新規建可能額 (円)
                    example: 5000000
                    format: double
                margin_rate:
                    type: number
                    description: 委託保証金率 (%)
                    example: 60.5
                    format: double
                total_assets:
                    type: number
                    description: 総資産 (円)
                    example: 3.0000005e+06
                    format: double
                updated_at:
                    type: string
                    description: 最終更新日時
                    example: "2023-08-23T10:00:00Z"
                    format: date-time
                withdrawal_possible_amount:
                    type: number
                    description: 出金可能額 (円)
                    example: 500000
                    format: double
            description: 口座の残高サマリー情報
            example:
                cash_buying_power: 1000000
                margin_buying_power: 5000000
                margin_rate: 60.5
                total_assets: 3.0000005e+06
                updated_at: "2023-08-23T10:00:00Z"
                withdrawal_possible_amount: 500000
            required:
                - total_assets
                - cash_buying_power
                - margin_buying_power
                - withdrawal_possible_amount
                - margin_rate
                - updated_at
tags:
    - name: balance
      description: 残高サービスは口座の残高情報を提供します。
