{"openapi":"3.0.3","info":{"title":"Stock Bot Service","description":"Service for placing and managing stock orders","version":"0.0.1"},"servers":[{"url":"http://localhost:8080"}],"paths":{"/balance":{"get":{"tags":["balance"],"summary":"get balance","description":"Get the account balance summary.","operationId":"balance#get","responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StockbotBalance"},"example":{"available_cash_for_stock":0.5658494334524324,"available_margin_for_new_position":0.33590295133149556,"has_margin_call":false,"margin_maintenance_rate":0.1020377895840843,"withdrawable_cash":0.1874201836332924}}}}}}},"/master/stocks/{symbol}":{"get":{"tags":["master"],"summary":"get_stock master","description":"Get basic master data for a single stock.","operationId":"master#get_stock","parameters":[{"name":"symbol","in":"path","description":"Stock symbol to look up","required":true,"schema":{"type":"string","description":"Stock symbol to look up","example":"Error culpa nam iure et."},"example":"Perspiciatis ad aut tempora voluptatum."}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StockbotStockMaster"},"example":{"industry_code":"Et aut accusamus voluptate nemo.","industry_name":"Aperiam laborum.","market":"Voluptatem praesentium voluptatem non voluptatibus sed.","name":"Aut neque in sit.","name_kana":"Error distinctio vel.","symbol":"Magni eum omnis dolorem non."}}}}}}},"/master/update":{"post":{"tags":["master"],"summary":"update master","description":"Trigger a manual update of the master data.","operationId":"master#update","responses":{"202":{"description":"Accepted response."}}}},"/order":{"post":{"tags":["order"],"summary":"create order","description":"Create a new stock order.","operationId":"order#create","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRequestBody"},"example":{"is_margin":true,"order_type":"STOP","price":0.4518777138956951,"quantity":15444783396623686298,"symbol":"A ut.","trade_type":"BUY"}}}},"responses":{"201":{"description":"Created response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateResponseBody"},"example":{"order_id":"Quasi tempore odio voluptatibus inventore necessitatibus voluptatem."}}}}}}},"/positions":{"get":{"tags":["position"],"summary":"list position","description":"List current positions.","operationId":"position#list","parameters":[{"name":"type","in":"query","description":"取得するポジション種別 (all, cash, margin)","allowEmptyValue":true,"schema":{"type":"string","description":"取得するポジション種別 (all, cash, margin)","default":"all","example":"cash","enum":["all","cash","margin"]},"example":"all"}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StockbotPositionCollection"},"example":{"positions":[{"average_cost":0.20340772017935024,"current_price":0.9305668997749629,"opened_date":"Quisquam fugiat sit voluptatum tempora.","position_type":"CASH","quantity":0.7640472947931707,"symbol":"Dolorem quia ut id repudiandae.","unrealized_pl":0.7963175162716686,"unrealized_pl_rate":0.42170577463801534},{"average_cost":0.20340772017935024,"current_price":0.9305668997749629,"opened_date":"Quisquam fugiat sit voluptatum tempora.","position_type":"CASH","quantity":0.7640472947931707,"symbol":"Dolorem quia ut id repudiandae.","unrealized_pl":0.7963175162716686,"unrealized_pl_rate":0.42170577463801534},{"average_cost":0.20340772017935024,"current_price":0.9305668997749629,"opened_date":"Quisquam fugiat sit voluptatum tempora.","position_type":"CASH","quantity":0.7640472947931707,"symbol":"Dolorem quia ut id repudiandae.","unrealized_pl":0.7963175162716686,"unrealized_pl_rate":0.42170577463801534}]}}}}}}},"/price/{symbol}":{"get":{"tags":["price"],"summary":"get price","description":"Get the current price for a specified stock symbol.","operationId":"price#get","parameters":[{"name":"symbol","in":"path","description":"Stock symbol to look up","required":true,"schema":{"type":"string","description":"Stock symbol to look up","example":"Occaecati quae."},"example":"Consectetur id ipsum magnam aut."}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StockbotPrice"},"example":{"price":0.42056628811197694,"symbol":"Possimus aut omnis beatae perferendis quas quo.","timestamp":"Vero numquam ea magnam labore dolores aut."}}}}}}}},"components":{"schemas":{"CreateRequestBody":{"type":"object","properties":{"is_margin":{"type":"boolean","description":"信用取引かどうか","default":false,"example":false},"order_type":{"type":"string","description":"注文種別 (MARKET/LIMITなど)","example":"STOP","enum":["MARKET","LIMIT","STOP","STOP_LIMIT"]},"price":{"type":"number","description":"発注価格 (LIMIT注文の場合)","default":0,"example":0.4691351649419781,"format":"double"},"quantity":{"type":"integer","description":"発注数量","example":17309718226052471049,"format":"int64"},"symbol":{"type":"string","description":"銘柄コード (例: 7203)","example":"Hic impedit qui debitis est recusandae."},"trade_type":{"type":"string","description":"売買区分 (BUY/SELL)","example":"BUY","enum":["BUY","SELL"]}},"example":{"is_margin":false,"order_type":"MARKET","price":0.544898641369291,"quantity":5883017439123605029,"symbol":"Aut optio quisquam eum magnam.","trade_type":"SELL"},"required":["symbol","trade_type","order_type","quantity"]},"CreateResponseBody":{"type":"object","properties":{"order_id":{"type":"string","description":"受付済み注文ID","example":"Accusantium ut doloribus quaerat hic cum."}},"description":"ID of the created order","example":{"order_id":"Minus quo qui."},"required":["order_id"]},"PositionResult":{"type":"object","properties":{"average_cost":{"type":"number","description":"平均取得単価","example":0.8862351183174124,"format":"double"},"current_price":{"type":"number","description":"現在値","example":0.6115314622529594,"format":"double"},"opened_date":{"type":"string","description":"建日 (信用取引の場合 YYYYMMDD)","example":"Commodi dolores qui molestiae necessitatibus similique quod."},"position_type":{"type":"string","description":"ポジション種別 (CASH, MARGIN_LONG, MARGIN_SHORT)","example":"CASH","enum":["CASH","MARGIN_LONG","MARGIN_SHORT"]},"quantity":{"type":"number","description":"保有数量","example":0.4795865922270436,"format":"double"},"symbol":{"type":"string","description":"銘柄コード","example":"Corrupti vel."},"unrealized_pl":{"type":"number","description":"評価損益","example":0.28419984245501584,"format":"double"},"unrealized_pl_rate":{"type":"number","description":"評価損益率(%)","example":0.9847886274238796,"format":"double"}},"description":"A single trading position.","example":{"average_cost":0.45004367316928445,"current_price":0.07200723553303658,"opened_date":"A in.","position_type":"MARGIN_LONG","quantity":0.49085674096609744,"symbol":"Tenetur rerum dignissimos.","unrealized_pl":0.28878399598202287,"unrealized_pl_rate":0.8396610486173907},"required":["symbol","position_type","quantity","average_cost"]},"StockbotBalance":{"type":"object","properties":{"available_cash_for_stock":{"type":"number","description":"現物株式買付可能額","example":0.8940087992526612,"format":"double"},"available_margin_for_new_position":{"type":"number","description":"信用新規建可能額","example":0.866246839034411,"format":"double"},"has_margin_call":{"type":"boolean","description":"追証発生フラグ (1:発生, 0:未発生)","example":true},"margin_maintenance_rate":{"type":"number","description":"委託保証金率(%)","example":0.6970529093838234,"format":"double"},"withdrawable_cash":{"type":"number","description":"出金可能額","example":0.5143729976555185,"format":"double"}},"description":"A summary of the account balance.","example":{"available_cash_for_stock":0.050314565303262705,"available_margin_for_new_position":0.4630112001114607,"has_margin_call":true,"margin_maintenance_rate":0.6088633717075856,"withdrawable_cash":0.419813897915644},"required":["available_cash_for_stock","available_margin_for_new_position","margin_maintenance_rate","withdrawable_cash","has_margin_call"]},"StockbotPositionCollection":{"type":"object","properties":{"positions":{"type":"array","items":{"$ref":"#/components/schemas/PositionResult"},"description":"保有ポジションのリスト","example":[{"average_cost":0.9913488134313866,"current_price":0.1346841026503882,"opened_date":"Facilis id pariatur.","position_type":"MARGIN_LONG","quantity":0.18065599769990995,"symbol":"Atque ipsum.","unrealized_pl":0.10233529488585924,"unrealized_pl_rate":0.4429322497112853},{"average_cost":0.9913488134313866,"current_price":0.1346841026503882,"opened_date":"Facilis id pariatur.","position_type":"MARGIN_LONG","quantity":0.18065599769990995,"symbol":"Atque ipsum.","unrealized_pl":0.10233529488585924,"unrealized_pl_rate":0.4429322497112853},{"average_cost":0.9913488134313866,"current_price":0.1346841026503882,"opened_date":"Facilis id pariatur.","position_type":"MARGIN_LONG","quantity":0.18065599769990995,"symbol":"Atque ipsum.","unrealized_pl":0.10233529488585924,"unrealized_pl_rate":0.4429322497112853},{"average_cost":0.9913488134313866,"current_price":0.1346841026503882,"opened_date":"Facilis id pariatur.","position_type":"MARGIN_LONG","quantity":0.18065599769990995,"symbol":"Atque ipsum.","unrealized_pl":0.10233529488585924,"unrealized_pl_rate":0.4429322497112853}]}},"description":"A collection of trading positions.","example":{"positions":[{"average_cost":0.9913488134313866,"current_price":0.1346841026503882,"opened_date":"Facilis id pariatur.","position_type":"MARGIN_LONG","quantity":0.18065599769990995,"symbol":"Atque ipsum.","unrealized_pl":0.10233529488585924,"unrealized_pl_rate":0.4429322497112853},{"average_cost":0.9913488134313866,"current_price":0.1346841026503882,"opened_date":"Facilis id pariatur.","position_type":"MARGIN_LONG","quantity":0.18065599769990995,"symbol":"Atque ipsum.","unrealized_pl":0.10233529488585924,"unrealized_pl_rate":0.4429322497112853}]},"required":["positions"]},"StockbotPrice":{"type":"object","properties":{"price":{"type":"number","description":"現在値","example":0.9401015860148756,"format":"double"},"symbol":{"type":"string","description":"銘柄コード","example":"Non deserunt accusamus."},"timestamp":{"type":"string","description":"価格取得日時 (RFC3339)","example":"Esse sint."}},"description":"The current price information for a stock.","example":{"price":0.5101872627587505,"symbol":"Modi quo non velit quas sit id.","timestamp":"Asperiores quasi fugiat ut ipsam et beatae."},"required":["symbol","price","timestamp"]},"StockbotStockMaster":{"type":"object","properties":{"industry_code":{"type":"string","description":"業種コード","example":"Aliquid voluptas quas non est."},"industry_name":{"type":"string","description":"業種コード名","example":"Consequatur qui vitae numquam dolores officiis."},"market":{"type":"string","description":"優先市場","example":"Laborum earum."},"name":{"type":"string","description":"銘柄名","example":"Doloribus sit aperiam."},"name_kana":{"type":"string","description":"銘柄名（カナ）","example":"Ex odit."},"symbol":{"type":"string","description":"銘柄コード","example":"Aliquam alias ad omnis et fuga sequi."}},"description":"Basic master data for a single stock.","example":{"industry_code":"Vero quibusdam a impedit velit eos.","industry_name":"Iure esse voluptates et aut omnis et.","market":"Nobis porro nobis nam consequuntur.","name":"Quia corporis enim laudantium laboriosam non veritatis.","name_kana":"Et aut est voluptas expedita vel officia.","symbol":"Id delectus saepe velit cum quia."},"required":["symbol","name","market"]}}},"tags":[{"name":"order","description":"The order service handles placing stock orders."},{"name":"balance","description":"The balance service provides account balance information."},{"name":"price","description":"The price service provides current stock price information."},{"name":"position","description":"The position service provides information about current holdings."},{"name":"master","description":"The master service provides master data."}]}