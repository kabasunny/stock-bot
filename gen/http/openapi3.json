{"openapi":"3.0.3","info":{"title":"株式取引ボット API","description":"株式取引ボットの機能を提供するAPI","version":"0.0.1"},"servers":[{"url":"http://localhost:8080"}],"paths":{"/balance/can_entry/{issue_code}":{"get":{"tags":["balance"],"summary":"canEntry balance","description":"指定した銘柄にエントリー可能か判断します。","operationId":"balance#canEntry","parameters":[{"name":"issue_code","in":"path","description":"銘柄コード","required":true,"schema":{"type":"string","description":"銘柄コード","example":"Enim esse."},"example":"Distinctio odio aut et at debitis."}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StockBalanceCanEntry"},"example":{"buying_power":1234567.89,"can_entry":true}}}}}}},"/balance/summary":{"get":{"tags":["balance"],"summary":"summary balance","description":"口座の残高サマリーを取得します。","operationId":"balance#summary","responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StockBalanceSummary"},"example":{"cash_buying_power":1000000,"margin_buying_power":5000000,"margin_rate":60.5,"total_assets":3000000.5,"updated_at":"2023-08-23T10:00:00Z","withdrawal_possible_amount":500000}}}}}}},"/orders":{"post":{"tags":["order"],"summary":"newOrder order","description":"新しい株式注文を作成します。","operationId":"order#newOrder","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewOrderPayload"},"example":{"is_margin":false,"order_type":"LIMIT","price":3000.5,"quantity":100,"symbol":"9432","time_in_force":"DAY","trade_type":"BUY","trigger_price":3100}}}},"responses":{"201":{"description":"Created response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StockOrder"},"example":{"created_at":"1993-03-23T05:51:12Z","is_margin":true,"order_id":"20230824-123456","order_status":"Ipsam rerum sapiente beatae.","order_type":"Quae aut dolores autem sit est voluptates.","price":0.26380613269373276,"quantity":4049269221085332884,"symbol":"9432","time_in_force":"Tenetur facilis.","trade_type":"Soluta voluptatem enim.","trigger_price":0.11934394818766299,"updated_at":"1992-10-28T00:28:43Z"}}}}}}},"/positions":{"get":{"tags":["position"],"summary":"list position","description":"建玉の一覧を取得します。","operationId":"position#list","responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StockPosition"},"example":[{"average_price":1500.5,"created_at":"2023-08-25T14:30:00Z","id":1,"position_type":"LONG","quantity":100,"symbol":"9432","updated_at":"2023-08-25T15:00:00Z"},{"average_price":1500.5,"created_at":"2023-08-25T14:30:00Z","id":1,"position_type":"LONG","quantity":100,"symbol":"9432","updated_at":"2023-08-25T15:00:00Z"}]},"example":[{"average_price":1500.5,"created_at":"2023-08-25T14:30:00Z","id":1,"position_type":"LONG","quantity":100,"symbol":"9432","updated_at":"2023-08-25T15:00:00Z"},{"average_price":1500.5,"created_at":"2023-08-25T14:30:00Z","id":1,"position_type":"LONG","quantity":100,"symbol":"9432","updated_at":"2023-08-25T15:00:00Z"},{"average_price":1500.5,"created_at":"2023-08-25T14:30:00Z","id":1,"position_type":"LONG","quantity":100,"symbol":"9432","updated_at":"2023-08-25T15:00:00Z"}]}}}}}}},"components":{"schemas":{"NewOrderPayload":{"type":"object","properties":{"is_margin":{"type":"boolean","description":"信用取引かどうか","default":false,"example":false},"order_type":{"type":"string","description":"注文種別","example":"LIMIT","enum":["MARKET","LIMIT","STOP","STOP_LIMIT"]},"price":{"type":"number","description":"指値価格","example":3000.5,"format":"double"},"quantity":{"type":"integer","description":"注文数量","example":100,"format":"int64"},"symbol":{"type":"string","description":"銘柄コード","example":"9432"},"time_in_force":{"type":"string","description":"注文の有効期間","default":"DAY","example":"DAY","enum":["DAY"]},"trade_type":{"type":"string","description":"取引種別","example":"BUY","enum":["BUY","SELL"]},"trigger_price":{"type":"number","description":"逆指値トリガー価格","example":3100,"format":"double"}},"description":"新規注文を作成するためのペイロード","example":{"is_margin":true,"order_type":"LIMIT","price":3000.5,"quantity":100,"symbol":"9432","time_in_force":"DAY","trade_type":"BUY","trigger_price":3100},"required":["symbol","trade_type","order_type","quantity"]},"StockBalanceCanEntry":{"type":"object","properties":{"buying_power":{"type":"number","description":"エントリー判断時点の買付余力","example":1234567.89,"format":"double"},"can_entry":{"type":"boolean","description":"エントリー可能かどうかのフラグ","example":true}},"description":"エントリー可否の判断結果","example":{"buying_power":1234567.89,"can_entry":true},"required":["can_entry","buying_power"]},"StockBalanceSummary":{"type":"object","properties":{"cash_buying_power":{"type":"number","description":"現物買付可能額 (円)","example":1000000,"format":"double"},"margin_buying_power":{"type":"number","description":"信用新規建可能額 (円)","example":5000000,"format":"double"},"margin_rate":{"type":"number","description":"委託保証金率 (%)","example":60.5,"format":"double"},"total_assets":{"type":"number","description":"総資産 (円)","example":3000000.5,"format":"double"},"updated_at":{"type":"string","description":"最終更新日時","example":"2023-08-23T10:00:00Z","format":"date-time"},"withdrawal_possible_amount":{"type":"number","description":"出金可能額 (円)","example":500000,"format":"double"}},"description":"口座の残高サマリー情報","example":{"cash_buying_power":1000000,"margin_buying_power":5000000,"margin_rate":60.5,"total_assets":3000000.5,"updated_at":"2023-08-23T10:00:00Z","withdrawal_possible_amount":500000},"required":["total_assets","cash_buying_power","margin_buying_power","withdrawal_possible_amount","margin_rate","updated_at"]},"StockOrder":{"type":"object","properties":{"created_at":{"type":"string","description":"作成タイムスタンプ","example":"2007-05-24T00:42:16Z","format":"date-time"},"is_margin":{"type":"boolean","description":"信用取引かどうか","example":true},"order_id":{"type":"string","description":"一意の注文ID","example":"20230824-123456"},"order_status":{"type":"string","description":"注文ステータス","example":"Qui ducimus assumenda veniam saepe sed nisi."},"order_type":{"type":"string","description":"注文種別","example":"Officia praesentium officia reprehenderit nesciunt numquam."},"price":{"type":"number","description":"指値価格","example":0.31131266330012414,"format":"double"},"quantity":{"type":"integer","description":"注文数量","example":9165706554504809977,"format":"int64"},"symbol":{"type":"string","description":"銘柄コード","example":"9432"},"time_in_force":{"type":"string","description":"注文の有効期間","example":"Numquam sunt ex dolore optio."},"trade_type":{"type":"string","description":"取引種別","example":"Maiores hic dignissimos molestiae inventore voluptas omnis."},"trigger_price":{"type":"number","description":"逆指値トリガー価格","example":0.4023435577773333,"format":"double"},"updated_at":{"type":"string","description":"更新タイムスタンプ","example":"1981-11-10T05:32:46Z","format":"date-time"}},"description":"注文操作の結果","example":{"created_at":"2007-07-24T13:39:49Z","is_margin":false,"order_id":"20230824-123456","order_status":"Necessitatibus aut expedita eveniet non possimus numquam.","order_type":"Saepe culpa saepe asperiores consequatur delectus.","price":0.9296620264377603,"quantity":7613147753953877349,"symbol":"9432","time_in_force":"Hic autem nihil id ratione explicabo sunt.","trade_type":"Ipsa iste.","trigger_price":0.7717723005272117,"updated_at":"2013-08-15T13:29:41Z"},"required":["order_id","symbol","trade_type","order_type","quantity","order_status","is_margin","created_at","updated_at"]},"StockPosition":{"type":"object","properties":{"average_price":{"type":"number","description":"平均取得単価","example":1500.5,"format":"double"},"created_at":{"type":"string","description":"作成日時","example":"2023-08-25T14:30:00Z","format":"date-time"},"id":{"type":"integer","description":"ID","example":1,"format":"int64"},"position_type":{"type":"string","description":"ポジション種別 (LONG or SHORT)","example":"LONG","enum":["LONG","SHORT"]},"quantity":{"type":"integer","description":"保有数量","example":100,"format":"int64"},"symbol":{"type":"string","description":"銘柄コード","example":"9432"},"updated_at":{"type":"string","description":"更新日時","example":"2023-08-25T15:00:00Z","format":"date-time"}},"description":"建玉情報","example":{"average_price":1500.5,"created_at":"2023-08-25T14:30:00Z","id":1,"position_type":"LONG","quantity":100,"symbol":"9432","updated_at":"2023-08-25T15:00:00Z"},"required":["id","symbol","position_type","average_price","quantity","created_at","updated_at"]}}},"tags":[{"name":"balance","description":"残高サービスは口座の残高情報を提供します。"},{"name":"order","description":"注文サービスは株式の注文操作を提供します。"},{"name":"position","description":"建玉サービスは現在保有している建玉の情報を提供します。"}]}