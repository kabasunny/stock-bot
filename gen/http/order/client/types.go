// Code generated by goa v3.23.1, DO NOT EDIT.
//
// order HTTP client types
//
// Command:
// $ goa gen stock-bot/design

package client

import (
	order "stock-bot/gen/order"

	goa "goa.design/goa/v3/pkg"
)

// CreateRequestBody is the type of the "order" service "create" endpoint HTTP
// request body.
type CreateRequestBody struct {
	// 銘柄コード (例: 7203)
	Symbol string `form:"symbol" json:"symbol" xml:"symbol"`
	// 売買区分 (BUY/SELL)
	TradeType string `form:"trade_type" json:"trade_type" xml:"trade_type"`
	// 注文種別 (MARKET/LIMITなど)
	OrderType string `form:"order_type" json:"order_type" xml:"order_type"`
	// 発注数量
	Quantity uint64 `form:"quantity" json:"quantity" xml:"quantity"`
	// 発注価格 (LIMIT注文の場合)
	Price float64 `form:"price" json:"price" xml:"price"`
	// 信用取引かどうか
	IsMargin bool `form:"is_margin" json:"is_margin" xml:"is_margin"`
}

// CreateResponseBody is the type of the "order" service "create" endpoint HTTP
// response body.
type CreateResponseBody struct {
	// 受付済み注文ID
	OrderID *string `form:"order_id,omitempty" json:"order_id,omitempty" xml:"order_id,omitempty"`
}

// NewCreateRequestBody builds the HTTP request body from the payload of the
// "create" endpoint of the "order" service.
func NewCreateRequestBody(p *order.CreatePayload) *CreateRequestBody {
	body := &CreateRequestBody{
		Symbol:    p.Symbol,
		TradeType: p.TradeType,
		OrderType: p.OrderType,
		Quantity:  p.Quantity,
		Price:     p.Price,
		IsMargin:  p.IsMargin,
	}
	{
		var zero float64
		if body.Price == zero {
			body.Price = 0
		}
	}
	{
		var zero bool
		if body.IsMargin == zero {
			body.IsMargin = false
		}
	}
	return body
}

// NewCreateResultCreated builds a "order" service "create" endpoint result
// from a HTTP "Created" response.
func NewCreateResultCreated(body *CreateResponseBody) *order.CreateResult {
	v := &order.CreateResult{
		OrderID: *body.OrderID,
	}

	return v
}

// ValidateCreateResponseBody runs the validations defined on CreateResponseBody
func ValidateCreateResponseBody(body *CreateResponseBody) (err error) {
	if body.OrderID == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("order_id", "body"))
	}
	return
}
